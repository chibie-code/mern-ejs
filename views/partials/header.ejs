<nav class="navbar navbar-expand-lg navbar-light bg-light">

  <!-- Collapse button -->
  <button class='navbar-toggler' type="button" data-toggle='collapse' data-target='#navbarContent' aria-controls='navbarContent' aria-expanded='false' aria-label='Toggle navigation' onclick="myFunction()">
    <span class='dark-blue-text'>
      <i class="fas fa-bars"></i>
    </span>
  </button>

  <!-- Collapsible content -->
  <div class='collapse navbar-collapse open-nav' id='navbarContent'>
    
    <!-- Links -->
    <ul class='navbar-nav'>
      <li class='nav-item'>
        <a href='/' class='nav-link'/>
          Home
          <span class='sr-only'>(current)</span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/about' class='nav-link'/>
          About
          <span class='sr-only'></span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/example_api' class='nav-link'/>
          API example
          <span class='sr-only'></span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/socket_demo' class='nav-link'/>
          Socket.io Chatroom
          <span class='sr-only'></span>
        </a>
      </li>
    <ul>
    <!-- Links -->

  </div>
  <!-- Collapsible content -->
</nav>
<!-- Navigation links (hidden by default) -->
<div id="myLinks">
  <!-- Links -->
    <ul class='navbar-nav'>
      <li class='nav-item active'>
        <a href='/' class='nav-link'/>
          Home
          <span class='sr-only'>(current)</span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/about' class='nav-link'/>
          About
          <span class='sr-only'></span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/example_api' class='nav-link'/>
          API example
          <span class='sr-only'></span>
        </a>
      </li>
      <li class='nav-item'>
        <a href='/socket_demo' class='nav-link'/>
          Socket.io Chatroom
          <span class='sr-only'></span>
        </a>
      </li>
    <ul>
  <!-- Links -->
</div>
<style>
  #myLinks{
    display: none;
    flex-direction: column;
  }
</style>
<script>

  document.onreadystatechange = () => {
    if (document.readyState === 'complete') {
      // document ready
      const nav_items = document.getElementsByClassName('nav-item');
      if ( document.URL.includes("about") ) {
        //Code here
        console.log('About page');
        nav_items[1].classList.add('active');
      }
      else if(document.URL.includes("example_api")){
        console.log('Example API page');
        nav_items[2].classList.add('active');
      }
      else if(document.URL.includes("socket_demo")){
        console.log('Socket.io demo page');
        nav_items[3].classList.add('active');
      }
      else{
        console.log('Home page');
        nav_items[0].classList.add('active');
      }
    }
  };

  /* Toggle between showing and hiding the navigation menu links when the user clicks on the hamburger menu / bar icon */
  function myFunction() {
    var x = document.getElementById("myLinks");
    if (x.style.display === "flex") {
      x.style.display = "none";
    } else {
      x.style.display = "flex";
    }
  }
</script>
